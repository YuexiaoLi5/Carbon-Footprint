window.onload = function() {
    const contractAddress = "0x1D6987Ccf3eE1361AE0616Ab01652ee66F3f5BDa"; 

    // Add your smart contract ABI here
    const contractABI = [
        {
            "inputs": [],
            "stateMutability": "nonpayable",
            "type": "constructor"
        },
        {
            "anonymous": false,
            "inputs": [
                {
                    "indexed": false,
                    "internalType": "string",
                    "name": "activityType",
                    "type": "string"
                },
                {
                    "indexed": false,
                    "internalType": "uint256",
                    "name": "factor",
                    "type": "uint256"
                }
            ],
            "name": "ActivityAdded",
            "type": "event"
        },
        {
            "anonymous": false,
            "inputs": [
                {
                    "indexed": true,
                    "internalType": "address",
                    "name": "user",
                    "type": "address"
                },
                {
                    "indexed": false,
                    "internalType": "string",
                    "name": "activityType",
                    "type": "string"
                },
                {
                    "indexed": false,
                    "internalType": "uint256",
                    "name": "amount",
                    "type": "uint256"
                }
            ],
            "name": "ActivityRecorded",
            "type": "event"
        },
        {
            "inputs": [
                {
                    "internalType": "string",
                    "name": "activityType",
                    "type": "string"
                },
                {
                    "internalType": "uint256",
                    "name": "factor",
                    "type": "uint256"
                }
            ],
            "name": "addActivityType",
            "outputs": [],
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "inputs": [
                {
                    "internalType": "address",
                    "name": "user",
                    "type": "address"
                }
            ],
            "name": "authorizeUser",
            "outputs": [],
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "distributeRewards",
            "outputs": [],
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "anonymous": false,
            "inputs": [
                {
                    "indexed": true,
                    "internalType": "address",
                    "name": "oldOwner",
                    "type": "address"
                },
                {
                    "indexed": true,
                    "internalType": "address",
                    "name": "newOwner",
                    "type": "address"
                }
            ],
            "name": "OwnershipTransferred",
            "type": "event"
        },
        {
            "inputs": [
                {
                    "internalType": "string",
                    "name": "activityType",
                    "type": "string"
                },
                {
                    "internalType": "uint256",
                    "name": "amount",
                    "type": "uint256"
                },
                {
                    "internalType": "address[]",
                    "name": "participants",
                    "type": "address[]"
                }
            ],
            "name": "recordActivity",
            "outputs": [],
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "anonymous": false,
            "inputs": [
                {
                    "indexed": true,
                    "internalType": "address",
                    "name": "user",
                    "type": "address"
                },
                {
                    "indexed": false,
                    "internalType": "uint256",
                    "name": "rewardAmount",
                    "type": "uint256"
                }
            ],
            "name": "RewardDistributed",
            "type": "event"
        },
        {
            "inputs": [
                {
                    "internalType": "uint256",
                    "name": "_rewardAmount",
                    "type": "uint256"
                }
            ],
            "name": "setRewardAmount",
            "outputs": [],
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "inputs": [
                {
                    "internalType": "address",
                    "name": "newOwner",
                    "type": "address"
                }
            ],
            "name": "transferOwnership",
            "outputs": [],
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "anonymous": false,
            "inputs": [
                {
                    "indexed": true,
                    "internalType": "address",
                    "name": "user",
                    "type": "address"
                }
            ],
            "name": "UserAuthorized",
            "type": "event"
        },
        {
            "stateMutability": "payable",
            "type": "receive"
        },
        {
            "inputs": [
                {
                    "internalType": "address",
                    "name": "",
                    "type": "address"
                }
            ],
            "name": "authorizedUsers",
            "outputs": [
                {
                    "internalType": "bool",
                    "name": "",
                    "type": "bool"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "getAllUsers",
            "outputs": [
                {
                    "internalType": "address[]",
                    "name": "",
                    "type": "address[]"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "getBalance",
            "outputs": [
                {
                    "internalType": "uint256",
                    "name": "",
                    "type": "uint256"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [
                {
                    "internalType": "address",
                    "name": "userAddress",
                    "type": "address"
                }
            ],
            "name": "getEmission",
            "outputs": [
                {
                    "internalType": "uint256",
                    "name": "total",
                    "type": "uint256"
                },
                {
                    "internalType": "string[]",
                    "name": "activities",
                    "type": "string[]"
                },
                {
                    "internalType": "uint256[]",
                    "name": "emissions",
                    "type": "uint256[]"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "getTotalEmissions",
            "outputs": [
                {
                    "internalType": "uint256",
                    "name": "totalEmission",
                    "type": "uint256"
                },
                {
                    "internalType": "string[]",
                    "name": "allActivityTypes",
                    "type": "string[]"
                },
                {
                    "internalType": "uint256[]",
                    "name": "totalActivityEmissions",
                    "type": "uint256[]"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "owner",
            "outputs": [
                {
                    "internalType": "address",
                    "name": "",
                    "type": "address"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "rewardAmount",
            "outputs": [
                {
                    "internalType": "uint256",
                    "name": "",
                    "type": "uint256"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        }
    ]; // Replace with your contract's ABI

    const contractBytecode = '6080604052670de0b6b3a76400006006553480156200001d57600080fd5b50600160008190555033600560006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550620000b06040518060400160405280600981526020017f7363686f6f6c4275730000000000000000000000000000000000000000000000815250613e806200079260201b60201c565b620000f96040518060400160405280600c81526020017f656c65637472696342696b6500000000000000000000000000000000000000008152506125806200079260201b60201c565b620001436040518060400160405280600b81526020017f656c6563747269634361720000000000000000000000000000000000000000008152506201d4c06200079260201b60201c565b6200018d6040518060400160405280600781526020017f6675656c43617200000000000000000000000000000000000000000000000000815250620328986200079260201b60201c565b620001d56040518060400160405280600581526020017f776174657200000000000000000000000000000000000000000000000000000081525060a86200079260201b60201c565b6200021f6040518060400160405280600b81526020017f656c656374726963697479000000000000000000000000000000000000000000815250620f37506200079260201b60201c565b620002696040518060400160405280600581526020017f70617065720000000000000000000000000000000000000000000000000000008152506229f6306200079260201b60201c565b620002b36040518060400160405280600481526020017f6265656600000000000000000000000000000000000000000000000000000000815250620113c86200079260201b60201c565b620002fc6040518060400160405280600981526020017f676f6174206d6561740000000000000000000000000000000000000000000000815250619b146200079260201b60201c565b620003456040518060400160405280600781526020017f6d757373656c73000000000000000000000000000000000000000000000000008152506169146200079260201b60201c565b6200038e6040518060400160405280600681526020017f6368656573650000000000000000000000000000000000000000000000000000815250615d5c6200079260201b60201c565b620003d76040518060400160405280600481526020017f66697368000000000000000000000000000000000000000000000000000000008152506135206200079260201b60201c565b620004206040518060400160405280600481526020017f706f726b0000000000000000000000000000000000000000000000000000000081525061300c6200079260201b60201c565b620004696040518060400160405280600781526020017f706f756c747279000000000000000000000000000000000000000000000000008152506126ac6200079260201b60201c565b620004b26040518060400160405280600381526020017f656767000000000000000000000000000000000000000000000000000000000081525061125c6200079260201b60201c565b620004fb6040518060400160405280600481526020017f5269636500000000000000000000000000000000000000000000000000000000815250610e106200079260201b60201c565b620005446040518060400160405280600781526020017f63657265616c7300000000000000000000000000000000000000000000000000815250610e106200079260201b60201c565b6200058d6040518060400160405280600481526020017f6d696c6b00000000000000000000000000000000000000000000000000000000815250610c806200079260201b60201c565b620005d66040518060400160405280600481526020017f746f667500000000000000000000000000000000000000000000000000000000815250610c806200079260201b60201c565b6200061f6040518060400160405280600781526020017f6c6567756d6573000000000000000000000000000000000000000000000000008152506107d06200079260201b60201c565b620006686040518060400160405280600581526020017f42726561640000000000000000000000000000000000000000000000000000008152506106406200079260201b60201c565b620006b16040518060400160405280600581526020017f70617374610000000000000000000000000000000000000000000000000000008152506106406200079260201b60201c565b620006fa6040518060400160405280600581526020017f66727569740000000000000000000000000000000000000000000000000000008152506103846200079260201b60201c565b620007436040518060400160405280600a81526020017f766567657461626c6573000000000000000000000000000000000000000000008152506102bc6200079260201b60201c565b6200078c6040518060400160405280600481526020017f6e757473000000000000000000000000000000000000000000000000000000008152506101906200079260201b60201c565b62000ec0565b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161462000825576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016200081c90620009ad565b60405180910390fd5b600060028360405162000839919062000a48565b908152602001604051809103902054146200088b576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620008829062000ab1565b60405180910390fd5b806002836040516200089e919062000a48565b908152602001604051809103902081905550600382908060018154018082558091505060019003906000526020600020016000909190919091509081620008e6919062000d42565b507f0b0712ec456af93f6b0404b0e069493b19905c3124aa2ef31ccaa41199a75c1582826040516200091a92919062000e8c565b60405180910390a15050565b600082825260208201905092915050565b7f4f6e6c7920746865206f776e65722063616e2063616c6c20746869732066756e60008201527f6374696f6e2e0000000000000000000000000000000000000000000000000000602082015250565b60006200099560268362000926565b9150620009a28262000937565b604082019050919050565b60006020820190508181036000830152620009c88162000986565b9050919050565b600081519050919050565b600081905092915050565b60005b8381101562000a05578082015181840152602081019050620009e8565b60008484015250505050565b600062000a1e82620009cf565b62000a2a8185620009da565b935062000a3c818560208601620009e5565b80840191505092915050565b600062000a56828462000a11565b915081905092915050565b7f4163746976697479207479706520616c7265616479206578697374732e000000600082015250565b600062000a99601d8362000926565b915062000aa68262000a61565b602082019050919050565b6000602082019050818103600083015262000acc8162000a8a565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000600282049050600182168062000b4a57607f821691505b60208210810362000b605762000b5f62000b02565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b60006008830262000bca7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8262000b8b565b62000bd6868362000b8b565b95508019841693508086168417925050509392505050565b6000819050919050565b6000819050919050565b600062000c2362000c1d62000c178462000bee565b62000bf8565b62000bee565b9050919050565b6000819050919050565b62000c3f8362000c02565b62000c5762000c4e8262000c2a565b84845462000b98565b825550505050565b600090565b62000c6e62000c5f565b62000c7b81848462000c34565b505050565b5b8181101562000ca35762000c9760008262000c64565b60018101905062000c81565b5050565b601f82111562000cf25762000cbc8162000b66565b62000cc78462000b7b565b8101602085101562000cd7578190505b62000cef62000ce68562000b7b565b83018262000c80565b50505b505050565b600082821c905092915050565b600062000d176000198460080262000cf7565b1980831691505092915050565b600062000d32838362000d04565b9150826002028217905092915050565b62000d4d82620009cf565b67ffffffffffffffff81111562000d695762000d6862000ad3565b5b62000d75825462000b31565b62000d8282828562000ca7565b600060209050601f83116001811462000dba576000841562000da5578287015190505b62000db1858262000d24565b86555062000e21565b601f19841662000dca8662000b66565b60005b8281101562000df45784890151825560018201915060208501945060208101905062000dcd565b8683101562000e14578489015162000e10601f89168262000d04565b8355505b6001600288020188555050505b505050505050565b6000601f19601f8301169050919050565b600062000e4782620009cf565b62000e53818562000926565b935062000e65818560208601620009e5565b62000e708162000e29565b840191505092915050565b62000e868162000bee565b82525050565b6000604082019050818103600083015262000ea8818562000e3a565b905062000eb9602083018462000e7b565b9392505050565b6131ad8062000ed06000396000f3fe6080604052600436106100c65760003560e01c80638da5cb5b1161007f578063e2842d7911610059578063e2842d791461024d578063f2fde38b14610278578063f7b2a7be146102a1578063fbb2ef67146102cc576100cd565b80638da5cb5b146101d0578063a8a65a78146101fb578063a9b6da3d14610224576100cd565b806309fd1032146100d257806312065fe0146100ff5780631828983a1461012a57806355f648de1461016757806367c2a360146101905780636f4a2cd0146101b9576100cd565b366100cd57005b600080fd5b3480156100de57600080fd5b506100e761030b565b6040516100f693929190611fdf565b60405180910390f35b34801561010b57600080fd5b506101146106f2565b6040516101219190612024565b60405180910390f35b34801561013657600080fd5b50610151600480360381019061014c91906120b1565b6106fa565b60405161015e91906120f9565b60405180910390f35b34801561017357600080fd5b5061018e600480360381019061018991906122d5565b61071a565b005b34801561019c57600080fd5b506101b760048036038101906101b291906120b1565b610d14565b005b3480156101c557600080fd5b506101ce610eff565b005b3480156101dc57600080fd5b506101e56113c0565b6040516101f29190612374565b60405180910390f35b34801561020757600080fd5b50610222600480360381019061021d919061238f565b6113e6565b005b34801561023057600080fd5b5061024b600480360381019061024691906123bc565b611480565b005b34801561025957600080fd5b50610262611606565b60405161026f91906124d6565b60405180910390f35b34801561028457600080fd5b5061029f600480360381019061029a91906120b1565b611694565b005b3480156102ad57600080fd5b506102b6611853565b6040516102c39190612024565b60405180910390f35b3480156102d857600080fd5b506102f360048036038101906102ee91906120b1565b611859565b60405161030293929190611fdf565b60405180910390f35b6000606080600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146103a0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103979061257b565b60405180910390fd5b600060038054905090508067ffffffffffffffff8111156103c4576103c361211e565b5b6040519080825280602002602001820160405280156103f757816020015b60608152602001906001900390816103e25790505b5092508067ffffffffffffffff8111156104145761041361211e565b5b6040519080825280602002602001820160405280156104425781602001602082028036833780820191505090505b50915060005b8181101561054957600381815481106104645761046361259b565b5b906000526020600020018054610479906125f9565b80601f01602080910402602001604051908101604052809291908181526020018280546104a5906125f9565b80156104f25780601f106104c7576101008083540402835291602001916104f2565b820191906000526020600020905b8154815290600101906020018083116104d557829003601f168201915b505050505084828151811061050a5761050961259b565b5b6020026020010181905250600083828151811061052a5761052961259b565b5b602002602001018181525050808061054190612659565b915050610448565b5060005b6007805490508110156106eb576000600782815481106105705761056f61259b565b5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690506105f2600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000015487611d7490919063ffffffff16565b955060005b838110156106d6576106a4600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206001018783815181106106575761065661259b565b5b602002602001015160405161066c91906126dd565b90815260200160405180910390205486838151811061068e5761068d61259b565b5b6020026020010151611d7490919063ffffffff16565b8582815181106106b7576106b661259b565b5b60200260200101818152505080806106ce90612659565b9150506105f7565b505080806106e390612659565b91505061054d565b5050909192565b600047905090565b60046020528060005260406000206000915054906101000a900460ff1681565b600460003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff166107a6576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161079d90612766565b60405180910390fd5b60006002856040516107b891906126dd565b90815260200160405180910390205403610807576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107fe906127d2565b60405180910390fd5b6000831161084a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161084190612864565b60405180910390fd5b600082829050905060008111610895576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161088c906128f6565b60405180910390fd5b6000805b828110156109c957600160008686848181106108b8576108b761259b565b5b90506020020160208101906108cd91906120b1565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160019054906101000a900460ff16610957576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161094e90612962565b60405180910390fd5b3373ffffffffffffffffffffffffffffffffffffffff168585838181106109815761098061259b565b5b905060200201602081019061099691906120b1565b73ffffffffffffffffffffffffffffffffffffffff16036109b657600191505b80806109c190612659565b915050610899565b5080610a0a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a01906129ce565b60405180910390fd5b6000610a516103e8610a4360028a604051610a2591906126dd565b90815260200160405180910390205489611d8a90919063ffffffff16565b611da090919063ffffffff16565b90506000610a688483611da090919063ffffffff16565b905060005b84811015610d0957610af182600160008a8a86818110610a9057610a8f61259b565b5b9050602002016020810190610aa591906120b1565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000154611d7490919063ffffffff16565b60016000898985818110610b0857610b0761259b565b5b9050602002016020810190610b1d91906120b1565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000181905550610bf682600160008a8a86818110610b7957610b7861259b565b5b9050602002016020810190610b8e91906120b1565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206001018b604051610bd991906126dd565b908152602001604051809103902054611d7490919063ffffffff16565b60016000898985818110610c0d57610c0c61259b565b5b9050602002016020810190610c2291906120b1565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206001018a604051610c6d91906126dd565b908152602001604051809103902081905550868682818110610c9257610c9161259b565b5b9050602002016020810190610ca791906120b1565b73ffffffffffffffffffffffffffffffffffffffff167f3c709c6a5520828465054b30f10f24b9e4b911d3d25626cb358d3a698473eb4e8a84604051610cee929190612a27565b60405180910390a28080610d0190612659565b915050610a6d565b505050505050505050565b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610da4576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d9b9061257b565b60405180910390fd5b6001600460008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff02191690831515021790555060018060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160016101000a81548160ff0219169083151502179055506007819080600181540180825580915050600190039060005260206000200160009091909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508073ffffffffffffffffffffffffffffffffffffffff167fb0be505cf6e26533f3066ac7722c3f8a5e8a123f43187c7832d333c49603b14660405160405180910390a250565b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610f8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f869061257b565b60405180910390fd5b600260005403610fd4576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610fcb90612aa3565b60405180910390fd5b6002600081905550600060078054905011611024576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161101b90612b0f565b60405180910390fd5b6000807fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff905060005b600780549050811015611251578160016000600784815481106110735761107261259b565b5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000154108015611174575060016000600783815481106110fc576110fb61259b565b5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160009054906101000a900460ff16155b1561123e576007818154811061118d5761118c61259b565b5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16925060016000600783815481106111d2576111d161259b565b5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000015491505b808061124990612659565b91505061104d565b50600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16036112c1576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016112b890612b7b565b60405180910390fd5b8173ffffffffffffffffffffffffffffffffffffffff166108fc6006549081150290604051600060405180830381858888f19350505050158015611309573d6000803e3d6000fd5b5060018060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160006101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff167fe34918ff1c7084970068b53fd71ad6d8b04e9f15d3886cbf006443e6cdc52ea66006546040516113ac9190612024565b60405180910390a250506001600081905550565b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614611476576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161146d9061257b565b60405180910390fd5b8060068190555050565b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614611510576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016115079061257b565b60405180910390fd5b600060028360405161152291906126dd565b90815260200160405180910390205414611571576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161156890612be7565b60405180910390fd5b8060028360405161158291906126dd565b9081526020016040518091039020819055506003829080600181540180825580915050600190039060005260206000200160009091909190915090816115c89190612db3565b507f0b0712ec456af93f6b0404b0e069493b19905c3124aa2ef31ccaa41199a75c1582826040516115fa929190612a27565b60405180910390a15050565b6060600780548060200260200160405190810160405280929190818152602001828054801561168a57602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019060010190808311611640575b5050505050905090565b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614611724576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161171b9061257b565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1603611793576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161178a90612ed1565b60405180910390fd5b8073ffffffffffffffffffffffffffffffffffffffff16600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a380600560006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b60065481565b6000606080600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160019054906101000a900460ff166118ed576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016118e490612f3d565b60405180910390fd5b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16148061197457508373ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16145b6119b3576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016119aa90612fcf565b60405180910390fd5b600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600001549250600080600090505b600380549050811015611ab3576000600160008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060010160038381548110611a6557611a6461259b565b5b90600052602060002001604051611a7c9190613072565b9081526020016040518091039020541115611aa0578180611a9c90612659565b9250505b8080611aab90612659565b915050611a00565b508067ffffffffffffffff811115611ace57611acd61211e565b5b604051908082528060200260200182016040528015611b0157816020015b6060815260200190600190039081611aec5790505b5092508067ffffffffffffffff811115611b1e57611b1d61211e565b5b604051908082528060200260200182016040528015611b4c5781602001602082028036833780820191505090505b509150600080600090505b600380549050811015611d6a576000600160008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060010160038381548110611bbc57611bbb61259b565b5b90600052602060002001604051611bd39190613072565b9081526020016040518091039020541115611d575760038181548110611bfc57611bfb61259b565b5b906000526020600020018054611c11906125f9565b80601f0160208091040260200160405190810160405280929190818152602001828054611c3d906125f9565b8015611c8a5780601f10611c5f57610100808354040283529160200191611c8a565b820191906000526020600020905b815481529060010190602001808311611c6d57829003601f168201915b5050505050858381518110611ca257611ca161259b565b5b6020026020010181905250600160008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060010160038281548110611d0357611d0261259b565b5b90600052602060002001604051611d1a9190613072565b908152602001604051809103902054848381518110611d3c57611d3b61259b565b5b6020026020010181815250508180611d5390612659565b9250505b8080611d6290612659565b915050611b57565b5050509193909250565b60008183611d829190613089565b905092915050565b60008183611d9891906130bd565b905092915050565b60008183611dae9190613146565b905092915050565b6000819050919050565b611dc981611db6565b82525050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b600081519050919050565b600082825260208201905092915050565b60005b83811015611e35578082015181840152602081019050611e1a565b60008484015250505050565b6000601f19601f8301169050919050565b6000611e5d82611dfb565b611e678185611e06565b9350611e77818560208601611e17565b611e8081611e41565b840191505092915050565b6000611e978383611e52565b905092915050565b6000602082019050919050565b6000611eb782611dcf565b611ec18185611dda565b935083602082028501611ed385611deb565b8060005b85811015611f0f5784840389528151611ef08582611e8b565b9450611efb83611e9f565b925060208a01995050600181019050611ed7565b50829750879550505050505092915050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b611f5681611db6565b82525050565b6000611f688383611f4d565b60208301905092915050565b6000602082019050919050565b6000611f8c82611f21565b611f968185611f2c565b9350611fa183611f3d565b8060005b83811015611fd2578151611fb98882611f5c565b9750611fc483611f74565b925050600181019050611fa5565b5085935050505092915050565b6000606082019050611ff46000830186611dc0565b81810360208301526120068185611eac565b9050818103604083015261201a8184611f81565b9050949350505050565b60006020820190506120396000830184611dc0565b92915050565b6000604051905090565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061207e82612053565b9050919050565b61208e81612073565b811461209957600080fd5b50565b6000813590506120ab81612085565b92915050565b6000602082840312156120c7576120c6612049565b5b60006120d58482850161209c565b91505092915050565b60008115159050919050565b6120f3816120de565b82525050565b600060208201905061210e60008301846120ea565b92915050565b600080fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b61215682611e41565b810181811067ffffffffffffffff821117156121755761217461211e565b5b80604052505050565b600061218861203f565b9050612194828261214d565b919050565b600067ffffffffffffffff8211156121b4576121b361211e565b5b6121bd82611e41565b9050602081019050919050565b82818337600083830152505050565b60006121ec6121e784612199565b61217e565b90508281526020810184848401111561220857612207612119565b5b6122138482856121ca565b509392505050565b600082601f8301126122305761222f612114565b5b81356122408482602086016121d9565b91505092915050565b61225281611db6565b811461225d57600080fd5b50565b60008135905061226f81612249565b92915050565b600080fd5b600080fd5b60008083601f84011261229557612294612114565b5b8235905067ffffffffffffffff8111156122b2576122b1612275565b5b6020830191508360208202830111156122ce576122cd61227a565b5b9250929050565b600080600080606085870312156122ef576122ee612049565b5b600085013567ffffffffffffffff81111561230d5761230c61204e565b5b6123198782880161221b565b945050602061232a87828801612260565b935050604085013567ffffffffffffffff81111561234b5761234a61204e565b5b6123578782880161227f565b925092505092959194509250565b61236e81612073565b82525050565b60006020820190506123896000830184612365565b92915050565b6000602082840312156123a5576123a4612049565b5b60006123b384828501612260565b91505092915050565b600080604083850312156123d3576123d2612049565b5b600083013567ffffffffffffffff8111156123f1576123f061204e565b5b6123fd8582860161221b565b925050602061240e85828601612260565b9150509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b61244d81612073565b82525050565b600061245f8383612444565b60208301905092915050565b6000602082019050919050565b600061248382612418565b61248d8185612423565b935061249883612434565b8060005b838110156124c95781516124b08882612453565b97506124bb8361246b565b92505060018101905061249c565b5085935050505092915050565b600060208201905081810360008301526124f08184612478565b905092915050565b600082825260208201905092915050565b7f4f6e6c7920746865206f776e65722063616e2063616c6c20746869732066756e60008201527f6374696f6e2e0000000000000000000000000000000000000000000000000000602082015250565b60006125656026836124f8565b915061257082612509565b604082019050919050565b6000602082019050818103600083015261259481612558565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000600282049050600182168061261157607f821691505b602082108103612624576126236125ca565b5b50919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600061266482611db6565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82036126965761269561262a565b5b600182019050919050565b600081905092915050565b60006126b782611dfb565b6126c181856126a1565b93506126d1818560208601611e17565b80840191505092915050565b60006126e982846126ac565b915081905092915050565b7f4e6f7420617574686f72697a656420746f207265636f7264206163746976697460008201527f6965732e00000000000000000000000000000000000000000000000000000000602082015250565b60006127506024836124f8565b915061275b826126f4565b604082019050919050565b6000602082019050818103600083015261277f81612743565b9050919050565b7f41637469766974792074797065206e6f7420726567697374657265642e000000600082015250565b60006127bc601d836124f8565b91506127c782612786565b602082019050919050565b600060208201905081810360008301526127eb816127af565b9050919050565b7f416d6f756e74206d7573742062652067726561746572207468616e207a65726f60008201527f2e00000000000000000000000000000000000000000000000000000000000000602082015250565b600061284e6021836124f8565b9150612859826127f2565b604082019050919050565b6000602082019050818103600083015261287d81612841565b9050919050565b7f4174206c65617374206f6e65207061727469636970616e74207265717569726560008201527f642e000000000000000000000000000000000000000000000000000000000000602082015250565b60006128e06022836124f8565b91506128eb82612884565b604082019050919050565b6000602082019050818103600083015261290f816128d3565b9050919050565b7f5061727469636970616e74206e6f7420726567697374657265642e0000000000600082015250565b600061294c601b836124f8565b915061295782612916565b602082019050919050565b6000602082019050818103600083015261297b8161293f565b9050919050565b7f53656e646572206d7573742062652061207061727469636970616e742e000000600082015250565b60006129b8601d836124f8565b91506129c382612982565b602082019050919050565b600060208201905081810360008301526129e7816129ab565b9050919050565b60006129f982611dfb565b612a0381856124f8565b9350612a13818560208601611e17565b612a1c81611e41565b840191505092915050565b60006040820190508181036000830152612a4181856129ee565b9050612a506020830184611dc0565b9392505050565b7f5265656e7472616e637947756172643a207265656e7472616e742063616c6c00600082015250565b6000612a8d601f836124f8565b9150612a9882612a57565b602082019050919050565b60006020820190508181036000830152612abc81612a80565b9050919050565b7f4e6f20757365727320746f207265776172642e00000000000000000000000000600082015250565b6000612af96013836124f8565b9150612b0482612ac3565b602082019050919050565b60006020820190508181036000830152612b2881612aec565b9050919050565b7f4e6f20656c696769626c6520757365727320746f207265776172642e00000000600082015250565b6000612b65601c836124f8565b9150612b7082612b2f565b602082019050919050565b60006020820190508181036000830152612b9481612b58565b9050919050565b7f4163746976697479207479706520616c7265616479206578697374732e000000600082015250565b6000612bd1601d836124f8565b9150612bdc82612b9b565b602082019050919050565b60006020820190508181036000830152612c0081612bc4565b9050919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302612c697fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82612c2c565b612c738683612c2c565b95508019841693508086168417925050509392505050565b6000819050919050565b6000612cb0612cab612ca684611db6565b612c8b565b611db6565b9050919050565b6000819050919050565b612cca83612c95565b612cde612cd682612cb7565b848454612c39565b825550505050565b600090565b612cf3612ce6565b612cfe818484612cc1565b505050565b5b81811015612d2257612d17600082612ceb565b600181019050612d04565b5050565b601f821115612d6757612d3881612c07565b612d4184612c1c565b81016020851015612d50578190505b612d64612d5c85612c1c565b830182612d03565b50505b505050565b600082821c905092915050565b6000612d8a60001984600802612d6c565b1980831691505092915050565b6000612da38383612d79565b9150826002028217905092915050565b612dbc82611dfb565b67ffffffffffffffff811115612dd557612dd461211e565b5b612ddf82546125f9565b612dea828285612d26565b600060209050601f831160018114612e1d5760008415612e0b578287015190505b612e158582612d97565b865550612e7d565b601f198416612e2b86612c07565b60005b82811015612e5357848901518255600182019150602085019450602081019050612e2e565b86831015612e705784890151612e6c601f891682612d79565b8355505b6001600288020188555050505b505050505050565b7f496e76616c6964206e6577206f776e657220616464726573732e000000000000600082015250565b6000612ebb601a836124f8565b9150612ec682612e85565b602082019050919050565b60006020820190508181036000830152612eea81612eae565b9050919050565b7f55736572206e6f7420726567697374657265642e000000000000000000000000600082015250565b6000612f276014836124f8565b9150612f3282612ef1565b602082019050919050565b60006020820190508181036000830152612f5681612f1a565b9050919050565b7f4e6f7420617574686f72697a656420746f20766965772074686973207573657260008201527f277320656d697373696f6e732e00000000000000000000000000000000000000602082015250565b6000612fb9602d836124f8565b9150612fc482612f5d565b604082019050919050565b60006020820190508181036000830152612fe881612fac565b9050919050565b60008154612ffc816125f9565b61300681866126a1565b94506001821660008114613021576001811461303657613069565b60ff1983168652811515820286019350613069565b61303f85612c07565b60005b8381101561306157815481890152600182019150602081019050613042565b838801955050505b50505092915050565b600061307e8284612fef565b915081905092915050565b600061309482611db6565b915061309f83611db6565b92508282019050808211156130b7576130b661262a565b5b92915050565b60006130c882611db6565b91506130d383611db6565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff048311821515161561310c5761310b61262a565b5b828202905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b600061315182611db6565b915061315c83611db6565b92508261316c5761316b613117565b5b82820490509291505056fea2646970667358221220bb61e137452a3c980133878fabdd60493cb2aa053bbeb1d2ad137b08ea0ca17664736f6c63430008100033'; // Replace with your contract's bytecode

    // 使用 Ganache
    const provider = new ethers.providers.JsonRpcProvider("http://127.0.0.1:8545");

    // 使用 Ganache 提供的私钥之一
    const privateKey = "0xe5c2e6dd13f960e9c0ff9432a6103d6524a6558a2c73c2c6fd23939fc98acfef";
    const wallet = new ethers.Wallet(privateKey, provider);

     // 创建合约实例
     const contract = new ethers.Contract(contractAddress, contractABI, wallet);


    window.authorizeUsers = async function() {
        alert("没有权限！");
    };
    
    
    window.checkAuthorizationStatus = async function() {
        alert("没有权限！");
    }

    
    
    // 添加活动类型
    document.getElementById('addActivityType').addEventListener('click', async () => {
        alert("没有权限！");
    });
     

    // 记录活动
    document.getElementById('recordActivity').addEventListener('click', async () => {
        const activityType = document.getElementById('recordActivityType').value;
        const amount = document.getElementById('activityAmount').value;
        const participants = ["0x74F493a15F61e0Ff8e9ba65c1d049A371c017aaD"]; // 替换为授权账户的地址
        
        try {
            await contract.recordActivity(activityType, amount, participants);
            document.getElementById('recordActivityOutput').innerText = `Activity recorded: ${activityType}, Amount: ${amount}`;
        } catch (error) {
            console.error('Error:', error);
            document.getElementById('recordActivityOutput').innerText = 'Failed to record activity.';
        }
    });
    

    
    document.getElementById('setRewardAmount').addEventListener('click', async () => {
        alert("没有权限！");
    });

    //查询
    document.getElementById('getEmissions').addEventListener('click', async () => {
        alert("没有权限！");
    });

    document.getElementById('checkRewardAmount').addEventListener('click', async () => {
        alert("没有权限！");
    });
    
    document.getElementById('checkEmission').addEventListener('click', async () => {
        alert("没有权限！");
    });

    document.getElementById('getAllUsers').addEventListener('click', async () => {
        alert("没有权限！");
    });
    
    
};